<Window x:Class="AeroGL.JournalWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Entry Jurnal Harian" Height="640" Width="940"
        Background="#15152A" FontFamily="Consolas" FontSize="14"
        WindowStartupLocation="CenterOwner"
        KeyDown="Window_KeyDown">

    <Grid Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Judul -->
            <RowDefinition Height="Auto"/>
            <!-- Header -->
            <RowDefinition Height="*"/>
            <!-- GridLines -->
            <RowDefinition Height="Auto"/>
            <!-- Footer -->
        </Grid.RowDefinitions>

        <!-- Judul -->
        <TextBlock Grid.Row="0" Text="Entry Jurnal Transaksi" Foreground="#9EEAF9"
                   FontSize="18" FontWeight="Bold" Margin="0,0,0,8"/>

        <!-- Header form -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Row 0: NoTran + Jenis + Tanggal -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,4">
                <TextBlock Text="No. Transaksi" Foreground="#9EEAF9" Margin="0,0,8,0"/>
                <TextBox x:Name="TxtNo1" Width="90" IsReadOnly="True"/>
                <TextBlock Text="/" Foreground="#EAEAEA" Margin="6,0"/>
                <TextBox x:Name="TxtNo2" Width="70" IsReadOnly="True"/>
                <TextBlock Text="/" Foreground="#EAEAEA" Margin="6,0"/>
                <TextBox x:Name="TxtNo3" Width="90" IsReadOnly="True"/>

                <TextBlock Text="Jenis" Foreground="#9EEAF9" Margin="20,0,8,0"/>
                <ComboBox x:Name="CmbType" Width="100" IsEnabled="False">
                    <ComboBoxItem Content="J" IsSelected="True"/>
                    <ComboBoxItem Content="M"/>
                </ComboBox>

                <TextBlock Text="Tanggal" Foreground="#9EEAF9" Margin="20,0,8,0"/>
                <DatePicker x:Name="DpTanggal" IsEnabled="False" Width="120"/>
            </StackPanel>

            <!-- Row 1: Memo + Totals -->
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,4">
                <TextBlock Text="Total Debet" Foreground="#9EEAF9" Margin="20,0,8,0"/>
                <TextBox x:Name="TxtTotD" Width="140" IsReadOnly="True" TextAlignment="Right"/>

                <TextBlock Text="Total Kredit" Foreground="#9EEAF9" Margin="20,0,8,0"/>
                <TextBox x:Name="TxtTotK" Width="140" IsReadOnly="True" TextAlignment="Right"/>
            </StackPanel>
        </Grid>

        <!-- Detail lines -->
        <DataGrid Grid.Row="2" x:Name="GridLines"
          AutoGenerateColumns="False" IsReadOnly="True"
          Background="Transparent"
          BorderBrush="Transparent" BorderThickness="0"
          RowBackground="Transparent"
          AlternatingRowBackground="Transparent"
          HeadersVisibility="Column"
          GridLinesVisibility="None"
          HorizontalGridLinesBrush="#5CC8FF"
          VerticalGridLinesBrush="#5CC8FF"
          Height="360"
          ScrollViewer.CanContentScroll="False"
          SelectionChanged="GridLines_SelectionChanged">

            <DataGrid.Resources>
                <!-- Pastikan bagian dalam ScrollViewer juga transparan -->
                <Style TargetType="{x:Type ScrollViewer}">
                    <Setter Property="Background" Value="Transparent"/>
                </Style>

                <!-- Header transparan + warna teks -->
                <Style TargetType="{x:Type DataGridColumnHeader}">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="#6CC6FF"/>
                    <Setter Property="BorderBrush" Value="Transparent"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="Padding" Value="6,4"/>
                </Style>

                <!-- Row & Cell transparan -->
                <Style TargetType="{x:Type DataGridRow}">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="#9EEAF9"/>
                    <Setter Property="BorderBrush" Value="Transparent"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="#403355"/>
                            <Setter Property="Foreground" Value="#EAF6FF"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>

                <Style TargetType="{x:Type DataGridCell}">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Padding" Value="6,2"/>
                    <Setter Property="Foreground" Value="#9EEAF9"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="#403355"/>
                            <Setter Property="Foreground" Value="#EAF6FF"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>
                <DataGridTextColumn Header="No.Rek (2-seg)" Binding="{Binding Code2}" Width="160"/>
                <DataGridTextColumn Header="Nama Akun"      Binding="{Binding AccountName}" Width="240"/>
                <DataGridTextColumn Header="Sisi"           Binding="{Binding Side}"  Width="80"/>
                <DataGridTextColumn Header="Jumlah"         Binding="{Binding Amount, StringFormat=N2}" Width="160"/>

                <!-- Keterangan: wrap -->
                <DataGridTemplateColumn Header="Keterangan" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Narration}"
                               TextWrapping="Wrap"
                               Foreground="#9EEAF9"
                               Padding="6,2"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                    <DataGridTemplateColumn.CellEditingTemplate>
                        <DataTemplate>
                            <TextBox Text="{Binding Narration, UpdateSourceTrigger=PropertyChanged}"
                             TextWrapping="Wrap" AcceptsReturn="True"
                             VerticalScrollBarVisibility="Auto"
                             Foreground="#9EEAF9" Padding="6,2"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellEditingTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>



        <!-- Info status (mode, posisi) -->
        <TextBlock Grid.Row="3" x:Name="TxtStatus" Foreground="#9EEAF9" Margin="0,6,0,6"/>

        <!-- Bottom menu ala DOS -->
        <UniformGrid Grid.Row="4" Rows="1" Columns="7" Margin="0,6,0,0">
            <Button x:Name="BtnAdd"  Content="Add"  Click="BtnAdd_Click"/>
            <Button x:Name="BtnEdit" Content="Edit" Click="BtnEdit_Click"/>
            <Button x:Name="BtnDel"  Content="Del"  Click="BtnDel_Click"/>
            <Button x:Name="BtnFind" Content="Find" Click="BtnFind_Click"/>
            <Button x:Name="BtnPrev" Content="Prev" Click="BtnPrev_Click"/>
            <Button x:Name="BtnNext" Content="Next" Click="BtnNext_Click"/>
            <Button x:Name="BtnQuit" Content="Quit" Click="BtnQuit_Click"/>
        </UniformGrid>
    </Grid>
</Window>
