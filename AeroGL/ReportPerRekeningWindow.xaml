<Window x:Class="AeroGL.ReportPerRekeningWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:AeroGL"
        Title="Print Per Rekening (Screen)" Height="700" Width="1000"
        Background="#15152A" FontFamily="Consolas" FontSize="14"
        WindowStartupLocation="CenterOwner">

    <Window.Resources>
        <local:NegativeToColorConverter x:Key="NegColorConv"/>

        <Style x:Key="RightCell" TargetType="TextBlock">
            <Setter Property="TextAlignment" Value="Right"/>
            <Setter Property="Padding" Value="4,2"/>
        </Style>
    </Window.Resources>

    <Grid Margin="14">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#2A2752" Padding="10" CornerRadius="6" Margin="0,0,0,10">
            <WrapPanel Orientation="Horizontal" VerticalAlignment="Center">

                <TextBlock Text="Periode:" Foreground="#9EEAF9" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <DatePicker x:Name="DpFrom" Width="110" VerticalContentAlignment="Center"/>
                <TextBlock Text=" s/d " Foreground="#9EEAF9" VerticalAlignment="Center" Margin="4,0"/>
                <DatePicker x:Name="DpTo" Width="110" VerticalContentAlignment="Center" Margin="0,0,20,0"/>

                <TextBlock Text="Akun:" Foreground="#9EEAF9" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <TextBox x:Name="TxtAkun1" Width="80" MaxLength="7" VerticalContentAlignment="Center" ToolTip="Contoh: 001.001"/>
                <TextBlock Text=" - " Foreground="#9EEAF9" VerticalAlignment="Center" Margin="4,0"/>
                <TextBox x:Name="TxtAkun2" Width="80" MaxLength="7" VerticalContentAlignment="Center" ToolTip="Contoh: 999.999" Margin="0,0,20,0"/>

                <TextBlock Text="Mode:" Foreground="#9EEAF9" VerticalAlignment="Center" Margin="0,0,8,0"/>
                <ComboBox x:Name="CboMode" Width="120" SelectedIndex="0" VerticalContentAlignment="Center">
                    <ComboBoxItem Content="M - Memorial"/>
                    <ComboBoxItem Content="N - Normalized"/>
                </ComboBox>

            </WrapPanel>
        </Border>

        <DataGrid Grid.Row="1" x:Name="GridRows" AutoGenerateColumns="False" IsReadOnly="True"
                  Background="Transparent" RowBackground="Transparent" Foreground="#EAEAEA"
                  BorderThickness="0" GridLinesVisibility="None" HeadersVisibility="Column"
                  ScrollViewer.VerticalScrollBarVisibility="Auto">

            <DataGrid.Resources>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#334"/>
                    <Setter Property="Foreground" Value="#9EEAF9"/>
                    <Setter Property="Padding" Value="6,6"/>
                    <Setter Property="FontWeight" Value="Bold"/>
                    <Setter Property="BorderBrush" Value="#445"/>
                    <Setter Property="BorderThickness" Value="0,0,1,1"/>
                </Style>

                <Style TargetType="DataGridCell">
                    <Setter Property="Padding" Value="4,2"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="DataGridCell">
                                <Border Padding="{TemplateBinding Padding}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                                    <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsHeader}" Value="True">
                            <Setter Property="Foreground" Value="#FFE082"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Background" Value="#2A2752"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsTotal}" Value="True">
                            <Setter Property="Foreground" Value="#86F7A1"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="BorderThickness" Value="0,1,0,0"/>
                            <Setter Property="BorderBrush" Value="#666"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.Resources>

            <DataGrid.Columns>
                <DataGridTextColumn Header="Tgl" Binding="{Binding TanggalStr}" Width="90"/>
                <DataGridTextColumn Header="No. Bukti" Binding="{Binding NoBukti}" Width="110"/>
                <DataGridTextColumn Header="Perkiraan" Binding="{Binding Lawan}" Width="80"/>

                <DataGridTextColumn Header="Keterangan" Binding="{Binding Keterangan}" Width="*">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="TextWrapping" Value="Wrap"/>
                            <Setter Property="Foreground" Value="{Binding Foreground, RelativeSource={RelativeSource AncestorType=DataGridCell}}"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>

                <DataGridTemplateColumn Header="Debet" Width="130">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Debet, StringFormat={}{0:N2}}" 
                                       TextAlignment="Right" Padding="4,2">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{Binding Debet, Converter={StaticResource NegColorConv}}"/>

                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsTotal}" Value="True">
                                                <Setter Property="Foreground" Value="#86F7A1"/>
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <DataGridTemplateColumn Header="Kredit" Width="130">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Kredit, StringFormat={}{0:N2}}" 
                                       TextAlignment="Right" Padding="4,2">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{Binding Kredit, Converter={StaticResource NegColorConv}}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsTotal}" Value="True">
                                                <Setter Property="Foreground" Value="#86F7A1"/>
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <DataGridTemplateColumn Header="Saldo" Width="140">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding Saldo, StringFormat={}{0:N2}}" 
                                       TextAlignment="Right" Padding="4,2">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="{Binding Saldo, Converter={StaticResource NegColorConv}}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsTotal}" Value="True">
                                                <Setter Property="Foreground" Value="#86F7A1"/>
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

            </DataGrid.Columns>
        </DataGrid>

        <Grid Grid.Row="2" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <TextBlock x:Name="TxtInfo" Grid.Column="0" Foreground="#AAA" VerticalAlignment="Center" Text="Siap."/>

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button x:Name="BtnShow" Content="Tampilkan" Width="100" Margin="0,0,10,0" Click="BtnShow_Click" Height="30" Background="#444466" Foreground="White"/>
                <Button x:Name="BtnPrint" Content="Print" Width="80" Margin="0,0,10,0" Click="BtnPrint_Click" Height="30" Background="#2D8F6F" Foreground="White"/>
                <Button Content="Tutup (Esc)" Click="BtnClose_Click" Height="30" Padding="10,0" Background="#FF6060" Foreground="White"/>
            </StackPanel>
        </Grid>

    </Grid>
</Window>